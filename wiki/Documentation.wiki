====== QMagnéto : Guide électronique des programmes TV avec fonction d'enregistrement ======

QMagnéto est un EPG (Electronic Program Guide), un guide électronique des programmes TV permettant d'afficher les programmes en cours et à venir. Il permet également de programmer l'enregistrement des émissions par l'appel d'un programme externe comme VLC ou mencoder. Il est ainsi possible d'enregistrer les programmes en provenance d'une BOX (Freebox ou Neufbox) ou d'un décodeur TNT.

[[http://qmagneto.googlecode.com/files/capture-qmagneto.png|{{ http://qmagneto.googlecode.com/files/capture-qmagneto-small2.png?600 }}]]




===== Installation =====
Le paquet pour Ubuntu est disponible sur le site du projet : http://code.google.com/p/qmagneto/. Ce logiciel est écrit en Qt4, les paquets correspondants seront donc peut-être installés automatiquement.

===== Configuration =====


==== Programme d'encodage ====
C'est le nom du programme à lancer lors des enregistrements. Par défaut ce programme est "mencoder". Il est également possible d'appeler VLC ou tout autre programme.
<note important>
L'application ne vérifie pas l'existence réelle du programme indiqué ici. Veillez donc à installer le paquet du programme désiré et vérifiez qu'il peut être lancé en indiquant éventuellement le chemin complet.
</note>


==== Options (d'encodage) ====
Ce sont les paramètres qui vont être transmis au programme d'enregistrement. Deux variables doivent apparaitrent obligatoirement dans cette ligne:

  * $STREAM : Cette variable sera remplacé par le champ "Correspondance Box"  configuré dans le dialogue "Canaux" en fonction de la chaine choisie
  * $OUT    : Sera remplacé par le nom du fichier choisi lors de la programmation de l'enregistrement

D'autres paramètres peuvent être ajoutés afin de réencoder ou redimensionner le flux vidéo.








==== Fichier XML des programmes ====
QMagnéto peut lire tout fichier XML au format compatible avec XMLTV. Ce format est décrit sur la page de [[http://doc.ubuntu-fr.org/ontv#le_format_xmltv|OnTV]]. Malheureusement la récupération avec XMLTV est assez longue et échoue même souvent. Rassurez-vous, quelqu'un se charge (merci à lui) sur le site http://xmltv.myftp.org/ de récupérer régulièrement ce fichier, il est donc fortement conseillé de l'utiliser. Deux guides sont proposés sur le site :
  * Le guide [[http://xmltv.myftp.org/download/tnt.zip|TNT]] qui propose toutes les chaines présentes sur la TNT
  * Le guide [[http://xmltv.myftp.org/download/complet.zip|total]] contenant toutes les chaines (TNT, Satellite, etc.) 

QMagnéto est capable de lire et intégrer les programmes des deux fichiers. A vous de choisir.
Le fichier XML est lu un seul fois par le programme qui renseigne une base de données SQLITE afin d'accélérer l'affichage des programmes. Lorsqu'il a été lu, ce fichier n'est plus utile et peut être supprimé.

=== Images miniatures ===

Certaines émissions possèdent des images miniatures permettant d'illustrer le programme. Les images miniatures (environ 300 pour le fichier de la TNT) sont téléchargées une à une dès que la lecture du fichier XML est terminée. Ces images sont également sauvegardées dans la base de données et ne sont donc récupérées qu'une seule fois. Comme il faut un certain délai pour récupérer l'ensemble des images, leur affichage dans le guide ne se fera pas immédiatement ce qui est normal.
Si vous quittez le programme et que le téléchargement des miniatures n'est pas terminé, il reprendra au lancement suivant avec la suite des images.
<note tip>
Si QMagnéto est lancé dans un terminal, la progression du téléchargement des images est affiché.
</note>

==== Format du nom de fichier ====



==== Canaux ====
{{ http://qmagneto.googlecode.com/files/capture-canaux.png?550 }}


%%La configuration des canaux est utile si vous désirez programmer des enregistrements. Dans ce cas il s'agit de faire correspondre au champ "Numéro de chaine" présent dans le fichier XML le paramètre "Correspondance Box" à fournir au programme d'enregistrement. Si vous possédez par exemple une Freebox, la ligne "C2.telepoche.com" doit être renseigné avec "rtsp://mafreebox.freebox.fr/freeboxtv/stream?id=201" qui est le canal de France 2 sur le multiposte. 
En renseignant le bon paramètre, il est ainsi possible d'enregistrer différent flux vidéo comme les Box mais aussi la TNT.
Un champ "correspondance" contenant "NONE" indique qu'il n'est pas possible d'enregistrer la chaine correspondante.
Les champs sont prérenseignés pour le multiposte de la Freebox, mais il est possible de paramétrer comme vous le désirez%%


===== Utilisation =====

L'interface est assez simple : La fenêtre principale affiche les programmes télé sous forme d'une grille. Les ascenceurs permettent de se déplacer. Toutes les émissions affichent dans une case de la grille leur nom et l'horaire de début et de fin du programme. Certains possèdent des étoiles (3 maximum) qui indiquent la qualité du programme. D'autres enfin affichent des images miniatures illustrant l'émission.

En cliquant sur un programme, celui-ci est sélectionné (sur fond vert) et la fenêtre "Description" affiche des détails supplémentaires.

En doucle-cliquant sur ce même programme, un dialogue s'affiche afin de programmer l'enregistrement.
<note important>
Le bouton "Programmer" restera grisé si le canal n'est pas configuré correctement
</note>

===== AMD64bit =====
Malheureusement les binaires ne sont pas encore disponible pour les architectures 64 bit
===== Voir aussi =====

----

//Contributeurs : [[utilisateurs:jlbrd]] //